# Используем официальный образ Node.js на базе Alpine Linux.
# Alpine Linux - это минималистичный дистрибутив, который позволяет создать легковесный контейнер.
FROM node:alpine

# Устанавливаем рабочую директорию в контейнере.
# Все последующие команды будут выполняться относительно этой директории.
WORKDIR /time-app

# Копируем файлы package.json и package-lock.json в текущую рабочую директорию контейнера.
# Это позволяет сначала установить только зависимости, если исходный код не изменился, что оптимизирует сборку.
COPY package*.json ./

# Устанавливаем зависимости проекта, указанные в package.json.
# Используем 'npm install', чтобы установить все пакеты, необходимые для работы приложения.
RUN npm install

# Копируем весь исходный код приложения в рабочую директорию контейнера.
COPY . .

# Открываем порт 8954 для доступа к приложению из хоста.
# Это порт, на котором будет запускаться фронтенд, работающий на Node.js.
EXPOSE 8954

# Указываем команду для запуска приложения.
# Команда 'npm run dev' запускает приложение в режиме разработки.
CMD ["npm", "run", "dev"]
